<!DOCTYPE HTML>
<html>

  <head>
    <script src="./elm.js"></script>
  </head>

  <body>
    <main></main>

    <div style="border: 1px dotted gray">
      <p>Not part of elm app:</p>
      <form onsubmit="return sendComment(this)">
        <input name="comment" type="text">
        <input type="submit" value="Comment">
      </form>
    </div>

    <div style="border: 1px dotted gray">
      <p>Not part of elm app:</p>
      <h2 id="fromPort">Value from port</h2>
    </div>

    <script type="text/javascript">
      var app = Elm.Main.init({
        node: document.querySelector('main')
      });

      function sendComment(form) {
        var comment = form.elements["comment"].value;
        // triggers the actual port through the name specified in the elm file
        window.elmApp.ports.incomingPort.send(comment);
        return false;
      }

      app.ports.outgoingPort.subscribe(function(data) {
        document.getElementById('fromPort').textContent = data;
      });

    </script>
  </body>
</html>
